<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Test 1 - Testro</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #F8F9FA;
            margin: 0;
            padding: 0;
        }
        header, footer {
            background-color: #007BFF;
            color: white;
            padding: 10px;
            text-align: center;
        }
        .container {
            padding: 20px;
            max-width: 800px;
            margin: auto;
            position: relative;
        }
        .timer {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 20px;
        }
        .question-number {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 20px;
        }
        .question {
            margin: 40px 0;
        }
        .options {
            list-style-type: none;
            padding: 0;
        }
        .options li {
            margin: 10px 0;
            cursor: pointer;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .options li:hover {
            background-color: #f0f0f0;
        }
        .options li.selected {
            background-color: #28A745; /* Green for selected option */
            color: white;
        }
        .options li.correct {
            background-color: #28A745; /* Green for correct answer */
            color: white;
        }
        .options li.wrong {
            background-color: #DC3545; /* Red for wrong answer */
            color: white;
        }
        button {
            background-color: #28A745;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        .skip {
            background-color: #FFC107;
        }
        .navigation-button {
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 100;
        }
        .navigation-panel {
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            width: 200px;
            height: 100%;
            background-color: #007BFF;
            color: white;
            padding: 10px;
        }
        .nav-question {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            cursor: pointer;
            font-weight: bold;
            color: black;
            background-color: #28A745;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .nav-question:hover {
            background-color: #218838;
        }
        .nav-question.answered {
            background-color: #28A745; /* Green for answered */
        }
        .nav-question.not-answered {
            background-color: #FFC107; /* Yellow for unanswered */
        }
        .result {
            display: none;
        }
    </style>
</head>
<body>

<header>
    <h1>Testro - Daily Test 1</h1>
</header>

<div class="container">
    <div class="timer">Time Left: <span id="time">600</span> seconds</div>
    <div class="question-number">Question <span id="currentQuestion">1</span>/10</div>
    
    <div class="question">
        <div id="questionText"></div>
        <ul id="options" class="options"></ul>
    </div>

    <button id="prevBtn" onclick="prevQuestion()" style="display:none;">Previous</button>
    <button id="nextBtn" onclick="nextQuestion()">Next</button>
    <button id="skipBtn" class="skip" onclick="skipQuestion()">Skip</button>
    <button id="submitBtn" onclick="submitTest()">Submit</button>
    
    <div class="navigation-button">
        <button onclick="toggleNav()">&#9776; Menu</button>
    </div>
    
    <div class="navigation-panel" id="navPanel">
        <h2>Questions</h2>
        <div id="navQuestions"></div>
    </div>
</div>

<footer>
    <p>&copy; 2023 Testro</p>
</footer>

<div class="result" id="resultPage">
    <h2>Your Result</h2>
    <div id="resultContent"></div>
    <button onclick="restartTest()">Restart Test</button>
</div>

<script>
    const questions = [
        {
            question: {
                en: "What is the capital of India?",
                hi: "भारत की राजधानी क्या है?"
            },
            options: [
                { answer: { en: "New Delhi", hi: "नई दिल्ली" }, correct: true },
                { answer: { en: "Mumbai", hi: "मुंबई" }, correct: false },
                { answer: { en: "Kolkata", hi: "कोलकाता" }, correct: false },
                { answer: { en: "Chennai", hi: "चेन्नई" }, correct: false }
            ]
        },
        {
            question: {
                en: "What is the main staple crop of India?",
                hi: "भारत की मुख्य खाद्य फसल क्या है?"
            },
            options: [
                { answer: { en: "Wheat", hi: "गेहूँ" }, correct: false },
                { answer: { en: "Rice", hi: "चावल" }, correct: true },
                { answer: { en: "Maize", hi: "मक्का" }, correct: false },
                { answer: { en: "Barley", hi: "जौ" }, correct: false }
            ]
        },
        {
            question: {
                en: "Which nutrient is primarily needed for plant growth?",
                hi: "पौधों की वृद्धि के लिए मुख्य रूप से कौन सा पोषक तत्व आवश्यक है?"
            },
            options: [
                { answer: { en: "Nitrogen", hi: "नाइट्रोजन" }, correct: true },
                { answer: { en: "Iron", hi: "आयरन" }, correct: false },
                { answer: { en: "Potassium", hi: "पोटासियम" }, correct: false },
                { answer: { en: "Calcium", hi: "कैल्शियम" }, correct: false }
            ]
        },
        {
            question: {
                en: "What is the primary source of Vitamin C?",
                hi: "विटामिन सी का मुख्य स्रोत क्या है?"
            },
            options: [
                { answer: { en: "Citrus Fruits", hi: "सिट्रस फल" }, correct: true },
                { answer: { en: "Meat", hi: "मांस" }, correct: false },
                { answer: { en: "Dairy", hi: "डेयरी" }, correct: false },
                { answer: { en: "Bread", hi: "ब्रेड" }, correct: false }
            ]
        },
        {
            question: {
                en: "Which of the following is a pulse crop?",
                hi: "निम्नलिखित में से कौन सी फसल एक दाल की फसल है?"
            },
            options: [
                { answer: { en: "Chickpeas", hi: "चने" }, correct: true },
                { answer: { en: "Wheat", hi: "गेहूँ" }, correct: false },
                { answer: { en: "Rice", hi: "चावल" }, correct: false },
                { answer: { en: "Barley", hi: "जौ" }, correct: false }
            ]
        },
        {
            question: {
                en: "Which gas do plants primarily absorb during photosynthesis?",
                hi: "पौधे प्रकाश संश्लेषण के दौरान मुख्य रूप से कौन सा गैस अवशोषित करते हैं?"
            },
            options: [
                { answer: { en: "Oxygen", hi: "ऑक्सीजन" }, correct: false },
                { answer: { en: "Carbon Dioxide", hi: "कार्बन डाइऑक्साइड" }, correct: true },
                { answer: { en: "Nitrogen", hi: "नाइट्रोजन" }, correct: false },
                { answer: { en: "Hydrogen", hi: "हाइड्रोजन" }, correct: false }
            ]
        },
        {
            question: {
                en: "Which type of soil is best for agriculture?",
                hi: "कौण सी प्रकार की मिट्टी कृषि के लिए सबसे अच्छी होती है?"
            },
            options: [
                { answer: { en: "Clay Soil", hi: "क्ले मिट्टी" }, correct: false },
                { answer: { en: "Sandy Soil", hi: "रेतीली मिट्टी" }, correct: false },
                { answer: { en: "Loamy Soil", hi: "लोमी मिट्टी" }, correct: true },
                { answer: { en: "Saline Soil", hi: "खारी मिट्टी" }, correct: false }
            ]
        },
        {
            question: {
                en: "Which crop is known as the 'king of grains'?",
                hi: "कौन सी फसल 'अनाजों का राजा' के रूप में जानी जाती है?"
            },
            options: [
                { answer: { en: "Rice", hi: "चावल" }, correct: false },
                { answer: { en: "Wheat", hi: "गेहूँ" }, correct: true },
                { answer: { en: "Maize", hi: "मक्का" }, correct: false },
                { answer: { en: "Barley", hi: "जौ" }, correct: false }
            ]
        },
        {
            question: {
                en: "What is the primary purpose of crop rotation?",
                hi: "फसल चक्रीकरण का मुख्य उद्देश्य क्या है?"
            },
            options: [
                { answer: { en: "Improve Soil Fertility", hi: "मिट्टी की उर्वरता में सुधार करना" }, correct: true },
                { answer: { en: "Increase Pests", hi: "कीट बढ़ाना" }, correct: false },
                { answer: { en: "Maximize Water Usage", hi: "पानी का उपयोग अधिकतम करना" }, correct: false },
                { answer: { en: "Reduce Crop Diversity", hi: "फसल विविधता कम करना" }, correct: false }
            ]
        },
        {
            question: {
                en: "What is hydroponics?",
                hi: "हाइड्रोपोनिक्स क्या है?"
            },
            options: [
                { answer: { en: "Growing plants in soil", hi: "मिट्टी में पौधे उगाना" }, correct: false },
                { answer: { en: "Growing plants in water", hi: "पानी में पौधे उगाना" }, correct: true },
                { answer: { en: "Fertilizing soil", hi: "मिट्टी में उर्वरक डालना" }, correct: false },
                { answer: { en: "Planting seeds", hi: "बीज बोना" }, correct: false }
            ]
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let timer;
    const totalQuestions = questions.length;
    let answers = Array(totalQuestions).fill(null); // Stores user answers

    function startTimer(duration) {
        let time = duration;
        timer = setInterval(function() {
            let seconds = parseInt(time, 10);
            document.getElementById('time').textContent = seconds;
            if (--time < 0) {
                clearInterval(timer);
                submitTest();
            }
        }, 1000);
    }

    function loadQuestion() {
        const questionObj = questions[currentQuestionIndex];
        document.getElementById('questionText').innerText = questionObj.question.en + " / " + questionObj.question.hi;

        const optionsHTML = questionObj.options.map((option, index) => 
            `<li onclick="selectOption(${index})">${option.answer.en} / ${option.answer.hi}</li>`
        ).join('');
        
        document.getElementById('options').innerHTML = optionsHTML;
        document.getElementById('currentQuestion').innerText = currentQuestionIndex + 1;
        
        updateNavigation();
        resetOptionStyles();
    }

    function selectOption(index) {
        if (answers[currentQuestionIndex] !== null) return; // Prevent re-selection
        answers[currentQuestionIndex] = index; // Store user answer
        const selectedOption = document.querySelectorAll('.options li')[index];
        selectedOption.classList.add('selected'); // Highlight the selected option
        
        // Check if the selected option is correct
        if (questions[currentQuestionIndex].options[index].correct) {
            score++; // Increment score for the correct answer
        }
    }

    function prevQuestion() {
        if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
            loadQuestion();
        }
    }

    function nextQuestion() {
        if (currentQuestionIndex < totalQuestions - 1) {
            currentQuestionIndex++;
            loadQuestion();
        }
    }

    function skipQuestion() {
        if (currentQuestionIndex < totalQuestions - 1) {
            currentQuestionIndex++;
            loadQuestion();
        }
    }

    function updateNavigation() {
        const navQuestions = document.getElementById('navQuestions');
        navQuestions.innerHTML = '';
        answers.forEach((ans, index) => {
            const className = ans !== null ? 'answered' : 'not-answered';
            navQuestions.innerHTML += `<div class="nav-question ${className}" onclick="goToQuestion(${index})">Q${index + 1}</div>`;
        });
    }

    function goToQuestion(index) {
        currentQuestionIndex = index;
        loadQuestion();
    }

    function toggleNav() {
        const panel = document.getElementById('navPanel');
        panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
    }

    function resetOptionStyles() {
        const optionElems = document.querySelectorAll('.options li');
        optionElems.forEach(elem => {
            elem.classList.remove('selected', 'correct', 'wrong'); // Reset styles
        });
    }

    function submitTest() {
        clearInterval(timer);
        document.querySelector('.container').style.display = 'none';
        document.getElementById('resultPage').style.display = 'block';

        let resultContent = '<ul>';
        questions.forEach((item, index) => {
            const userOption = answers[index];
            const correctOption = item.options.findIndex(option => option.correct);
            
            resultContent += `<li>
                ${item.question.en} / ${item.question.hi}:
                <br> Your Answer: 
                <span style="color:${userOption === correctOption ? 'green' : 'red'};">${userOption !== null ? item.options[userOption].answer.en : 'No Answer'}</span>
                <br> Correct Answer: 
                <span style="color:green;">${item.options[correctOption].answer.en}</span>
            </li>`;

            // Highlight answers
            if (userOption !== null) {
                const userSelectedElem = document.querySelectorAll('.options li')[userOption];
                userSelectedElem.classList.add(userOption === correctOption ? 'correct' : 'wrong');
            }
        });
        
        resultContent += `</ul><strong>Total Score: ${score} / ${totalQuestions}</strong>`;
        document.getElementById('resultContent').innerHTML = resultContent;
    }

    function restartTest() {
        currentQuestionIndex = 0;
        score = 0;
        answers.fill(null); // Reset answers
        document.querySelector('.container').style.display = 'block';
        document.getElementById('resultPage').style.display = 'none';
        startTimer(600);
        loadQuestion();
    }

    document.addEventListener('DOMContentLoaded', (event) => {
        loadQuestion();
        startTimer(600);
    });
</script>

</body>
</html>
